-- -------------------------------------------------------------
-- 
-- File Name: hdlsrc\dspprogfirhdl\coeffs_registers.vhd
-- Created: 2021-09-08 14:26:51
-- 
-- Generated by MATLAB 9.9 and HDL Coder 3.17
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: coeffs_registers
-- Source Path: dspprogfirhdl/Programmable FIR via Registers/coeffs_registers
-- Hierarchy Level: 1
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.Programmable_FIR_via_Registers_pkg.ALL;

ENTITY coeffs_registers IS
  PORT( clk                               :   IN    std_logic;
        reset                             :   IN    std_logic;
        enb                               :   IN    std_logic;
        coeffs_in                         :   IN    std_logic_vector(13 DOWNTO 0);  -- sfix14_En13
        write_address                     :   IN    std_logic_vector(7 DOWNTO 0);  -- uint8
        write_enable                      :   IN    std_logic;
        coeffs_out                        :   OUT   vector_of_std_logic_vector14(0 TO 6)  -- sfix14_En13 [7]
        );
END coeffs_registers;


ARCHITECTURE rtl OF coeffs_registers IS

  -- Signals
  SIGNAL coeffs_in_signed                 : signed(13 DOWNTO 0);  -- sfix14_En13
  SIGNAL write_address_unsigned           : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL coeffs_regs                      : vector_of_signed14(0 TO 6);  -- sfix14_En13 [7]
  SIGNAL coeffs_assigned                  : vector_of_signed14(0 TO 6);  -- sfix14_En13 [7]

BEGIN
  coeffs_in_signed <= signed(coeffs_in);

  write_address_unsigned <= unsigned(write_address);

  
  coeffs_assigned(0) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#00#, 8) ELSE
      coeffs_regs(0);
  
  coeffs_assigned(1) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#01#, 8) ELSE
      coeffs_regs(1);
  
  coeffs_assigned(2) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#02#, 8) ELSE
      coeffs_regs(2);
  
  coeffs_assigned(3) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#03#, 8) ELSE
      coeffs_regs(3);
  
  coeffs_assigned(4) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#04#, 8) ELSE
      coeffs_regs(4);
  
  coeffs_assigned(5) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#05#, 8) ELSE
      coeffs_regs(5);
  
  coeffs_assigned(6) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#06#, 8) ELSE
      coeffs_regs(6);
  
--  coeffs_assigned(7) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#07#, 8) ELSE
--      coeffs_regs(7);
--  
--  coeffs_assigned(8) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#08#, 8) ELSE
--      coeffs_regs(8);
--  
--  coeffs_assigned(9) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#09#, 8) ELSE
--      coeffs_regs(9);
--  
--  coeffs_assigned(10) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0A#, 8) ELSE
--      coeffs_regs(10);
--  
--  coeffs_assigned(11) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0B#, 8) ELSE
--      coeffs_regs(11);
--  
--  coeffs_assigned(12) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0C#, 8) ELSE
--      coeffs_regs(12);
--  
--  coeffs_assigned(13) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0D#, 8) ELSE
--      coeffs_regs(13);
--  
--  coeffs_assigned(14) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0E#, 8) ELSE
--      coeffs_regs(14);
--  
--  coeffs_assigned(15) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#0F#, 8) ELSE
--      coeffs_regs(15);
--  
--  coeffs_assigned(16) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#10#, 8) ELSE
--      coeffs_regs(16);
--  
--  coeffs_assigned(17) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#11#, 8) ELSE
--      coeffs_regs(17);
--  
--  coeffs_assigned(18) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#12#, 8) ELSE
--      coeffs_regs(18);
--  
--  coeffs_assigned(19) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#13#, 8) ELSE
--      coeffs_regs(19);
--  
--  coeffs_assigned(20) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#14#, 8) ELSE
--      coeffs_regs(20);
--  
--  coeffs_assigned(21) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#15#, 8) ELSE
--      coeffs_regs(21);
--  
--  coeffs_assigned(22) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#16#, 8) ELSE
--      coeffs_regs(22);
--  
--  coeffs_assigned(23) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#17#, 8) ELSE
--      coeffs_regs(23);
--  
--  coeffs_assigned(24) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#18#, 8) ELSE
--      coeffs_regs(24);
--  
--  coeffs_assigned(25) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#19#, 8) ELSE
--      coeffs_regs(25);
--  
--  coeffs_assigned(26) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1A#, 8) ELSE
--      coeffs_regs(26);
--  
--  coeffs_assigned(27) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1B#, 8) ELSE
--      coeffs_regs(27);
--  
--  coeffs_assigned(28) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1C#, 8) ELSE
--      coeffs_regs(28);
--  
--  coeffs_assigned(29) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1D#, 8) ELSE
--      coeffs_regs(29);
--  
--  coeffs_assigned(30) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1E#, 8) ELSE
--      coeffs_regs(30);
--  
--  coeffs_assigned(31) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#1F#, 8) ELSE
--      coeffs_regs(31);
--  
--  coeffs_assigned(32) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#20#, 8) ELSE
--      coeffs_regs(32);
--  
--  coeffs_assigned(33) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#21#, 8) ELSE
--      coeffs_regs(33);
--  
--  coeffs_assigned(34) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#22#, 8) ELSE
--      coeffs_regs(34);
--  
--  coeffs_assigned(35) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#23#, 8) ELSE
--      coeffs_regs(35);
--  
--  coeffs_assigned(36) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#24#, 8) ELSE
--      coeffs_regs(36);
--  
--  coeffs_assigned(37) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#25#, 8) ELSE
--      coeffs_regs(37);
--  
--  coeffs_assigned(38) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#26#, 8) ELSE
--      coeffs_regs(38);
--  
--  coeffs_assigned(39) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#27#, 8) ELSE
--      coeffs_regs(39);
--  
--  coeffs_assigned(40) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#28#, 8) ELSE
--      coeffs_regs(40);
--  
--  coeffs_assigned(41) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#29#, 8) ELSE
--      coeffs_regs(41);
--  
--  coeffs_assigned(42) <= coeffs_in_signed WHEN write_address_unsigned = to_unsigned(16#2A#, 8) ELSE
--      coeffs_regs(42);

  coeffs_regs_1_process : PROCESS (clk, reset)
  BEGIN
    IF reset = '1' THEN
      coeffs_regs <= (OTHERS => to_signed(16#0000#, 14));
    ELSIF clk'EVENT AND clk = '1' THEN
      IF enb = '1' AND write_enable = '1' THEN
        coeffs_regs <= coeffs_assigned;
      END IF;
    END IF;
  END PROCESS coeffs_regs_1_process;


  outputgen: FOR k IN 0 TO 6 GENERATE
    coeffs_out(k) <= std_logic_vector(coeffs_regs(k));
  END GENERATE;

END rtl;

